# Передача задачи Frontend-разработчику

## Что было сделано на бэкенде
Реализованы расчеты для двух новых типов целей:
1.  **FIN_RESERVE (ID 7)** - Финрезерв.
2.  **RENT (ID 8)** - Рента / Пассивный доход от капитала.

## Новые возможности (API)

### 1. Финрезерв (FIN_RESERVE)
*   **ID типа цели**: `7`
*   **Входные параметры**:
    *   `initial_capital`: Начальная сумма.
    *   `monthly_replenishment`: Ежемесячное пополнение (опционально, работает как в Инвестициях).
    *   `term_months`: **Игнорируется** (на бэке фиксировано 12 месяцев), но можно передавать.
*   **Ответ**:
    *   В объекте `summary` придет поле `total_capital_at_end` - итоговая сумма через 12 месяцев.
    *   Поле `target_achieved`: `true` (всегда успешна).

### 2. Рента (RENT)
*   **ID типа цели**: `8`
*   **Входные параметры**:
    *   `initial_capital`: Сумма капитала, с которого получаем ренту.
*   **Ответ**:
    *   В объекте `summary` придет новое поле `monthlyIncomeRent` - рассчитанный ежемесячный доход.
    *   `total_capital_at_end` будет равен `initial_capital` (тело сохраняется).

## Что нужно сделать на фронте

1.  **Форма создания цели**:
    *   Для **Финрезерва**: Добавить выбор типа (ID 7). Поля: Название, Начальный капитал, Ежемесячное пополнение. Срок можно скрыть (или показывать "1 год").
    *   Для **Ренты**: Добавить выбор типа (ID 8). Поля: Название, Капитал. (Пополнение не нужно, срок не нужен).

2.  **Карточка результатов**:
    *   **Финрезерв**: Отображать поле `summary.total_capital_at_end` как "Итоговый капитал через год".
    *   **Рента**: Отображать поле `summary.monthlyIncomeRent` как "Ежемесячный доход".

3.  **Портфели**:
    *   Убедиться, что в базе (через админку или сиды) созданы портфели для классов 7 и 8, иначе расчет вернет ошибку "Portfolio not found".

## Обновления в документации
Файл `openapi/pfp-api.yaml` обновлен. Добавлены схемы `FinReserveCalculationResult` и `RentCalculationResult`.
