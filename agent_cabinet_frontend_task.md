# ТЗ: Личный Кабинет Агента (Интерфейс)

Необходимо реализовать раздел **"Мой ИИ-Ассистент"** в личном кабинете агента. Цель — дать агенту возможность настроить своего бота и просматривать переписку с клиентами.

## Стек и API
- **Документация**: `OPENAPI_SPEC.yaml` (секция `/pfp/constructor/*`)
- **Базовый URL**: `/api/pfp/constructor`
- **Авторизация**: Bearer Token (JWT)

---

## 1. Раздел: Настройка бота
Форма для конфигурации персонального Telegram-бота агента.

**Эндпоинты:**
- `GET /bot` — получить текущие настройки.
- `POST /bot` — сохранить настройки.

**Поля формы:**
- **Название бота**: Отображаемое имя.
- **Ссылка на бота**: URL в формате `https://t.me/your_bot`.
- **Telegram Token**: API токен от BotFather.
- **Стилистика общения**: Текстовое поле для системного промпта (как бот должен общаться).
- **Базовый контекст**: Основные знания, которые должен знать бот об агенте/услугах.

---

## 2. Раздел: Клиенты и Диалоги
Интерфейс для мониторинга общения бота с пользователями.

**Эндпоинты:**
- `GET /clients` — список всех клиентов, общавшихся с ботом.
- `GET /messages/{clientId}` — история сообщений конкретного клиента.

**Функционал:**
- **Список чатов (Sidebar)**: Список имен/никнеймов клиентов с датой последнего сообщения.
- **Окно чата**:
    - Отображение истории (лево/право или входящие/исходящие).
    - Каждое сообщение содержит текст пользователя и ответ ИИ.
    - Метка времени сообщения.

---

## 3. Рекомендации по UX
1. **Статус бота**: Если токен или ссылка не заполнены, показывать состояние "Бот не настроен".
2. **Загрузка**: Использовать Skeleton screen или спиннеры при загрузке длинных диалогов.
3. **Сохранение**: При успешном сохранении настроек показывать Toast-уведомление "Настройки обновлены, бот перезапущен".
